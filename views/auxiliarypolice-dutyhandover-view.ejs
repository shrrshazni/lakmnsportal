<%- include('partials/private-header.ejs') %>

<div class="mb-6">

  <div class="mb-3 d-xxl-flex justify-content-between">
    <div class="mb-3">
      <h2 class="mb-2">Duty Handover</h2>
      <h5 class="text-body-tertiary fw-semibold">Tracking Participation, Absences, Presence.</h5>
    </div>

    <div class="align-items-middle">
      <a class="btn btn-phoenix-secondary" href="/auxiliary-police/duty-handover/submit"><span class="fa-solid fa-pen-to-square me-2"></span>Submit Duty Handover</a>
    </div>
  </div>

  <div class="mb-3">
    <div id="locationButtons">
      <button id="btn-baitul-makmur-i" class="btn btn-primary btn-location me-2" data-location="baitul-makmur-i">Baitul Makmur I</button>
      <button id="btn-baitul-makmur-ii" class="btn btn-outline-secondary btn-location me-2" data-location="baitul-makmur-ii">Baitul Makmur II</button>
      <button id="btn-jamek-mosque" class="btn btn-outline-secondary btn-location me-2" data-location="jamek-mosque">Jamek Mosque</button>
      <button id="btn-city-mosque" class="btn btn-outline-secondary btn-location me-2" data-location="city-mosque">City Mosque</button>
      <button id="btn-raudhatul-sakinah" class="btn btn-outline-secondary btn-location me-2" data-location="raudhatul-sakinah">Raudhatul Sakinah</button>
    </div>

    <hr>

    <div id="detailsBaitulMakmurI" class="content-section">
      <div class="mb-5" id="shiftButtonsBaitulMakmurI">
        <button type="button" class="btn btn-primary btn-shift" data-location="baitul-makmur-i" data-shift="A">Shift A</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="baitul-makmur-i" data-shift="B">Shift B</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="baitul-makmur-i" data-shift="C">Shift C</button>
      </div>
      <h3>Baitul Makmur I</h3>
      <div id="detailsBaitulMakmurIA" class="mt-3 shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(bmi && bmi.length > 0){ 
                
                const filteredbmi = bmi.filter(item => item.shift === 'Shift A');
                if (filteredbmi.length > 0) { 
                
                 filteredbmi.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-bmi<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-bmi<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailA-bmi<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsBaitulMakmurIB" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(bmi && bmi.length > 0){ 
                
                const filteredbmi = bmi.filter(item => item.shift === 'Shift B');
                if (filteredbmi.length > 0) { 
                
                 filteredbmi.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-bmi<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-bmi<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailB-bmi<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsBaitulMakmurIC" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(bmi && bmi.length > 0){ 
                
                const filteredbmi = bmi.filter(item => item.shift === 'Shift C');
                if (filteredbmi.length > 0) { 
                
                 filteredbmi.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-bmi<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-bmi<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailC-bmi<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="detailsBaitulMakmurII" class="content-section d-none">
      <div class="mb-5" id="shiftButtonsBaitulMakmurII">
        <button type="button" class="btn btn-primary btn-shift" data-location="baitul-makmur-ii" data-shift="A">Shift A</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="baitul-makmur-ii" data-shift="B">Shift B</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="baitul-makmur-ii" data-shift="C">Shift C</button>
      </div>
      <h3>Baitul Makmur II</h3>
      <div id="detailsBaitulMakmurIIA" class="mt-3 shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(bmii && bmii.length > 0){ 
                
                const filteredJm = bmii.filter(item => item.shift === 'Shift A');
                if (filteredbmii.length > 0) { 
                
                 filteredbmii.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-bmii<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-bmii<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailA-bmii<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsBaitulMakmurIIB" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(bmii && bmii.length > 0){ 
                
                const filteredbmii = bmii.filter(item => item.shift === 'Shift B');
                if (filteredbmii.length > 0) { 
                
                 filteredbmii.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-bmii<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-bmii<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailB-bmii<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsBaitulMakmurIIC" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(bmii && bmii.length > 0){ 
                
                const filteredbmii = bmii.filter(item => item.shift === 'Shift C');
                if (filteredbmii.length > 0) { 
                
                 filteredbmii.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-bmii<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-bmi<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailC-bmii<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="detailsJamekMosque" class="content-section d-none">
      <div class="mb-5" id="shiftButtonsJamekMosque">
        <button type="button" class="btn btn-primary btn-shift" data-location="jamek-mosque" data-shift="A">Shift A</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="jamek-mosque" data-shift="B">Shift B</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="jamek-mosque" data-shift="C">Shift C</button>
      </div>
      <h3>Jamek Mosque</h3>
      <div id="detailsJamekMosqueA" class="mt-3 shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(jm && jm.length > 0){ 
                
                const filteredJm = jm.filter(item => item.shift === 'Shift A');
                if (filteredJm.length > 0) { 
                
                 filteredJm.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-jm<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-jm<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailA-jm<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsJamekMosqueB" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(jm && jm.length > 0){ 
                
                const filteredJm = jm.filter(item => item.shift === 'Shift B');
                if (filteredJm.length > 0) { 
                
                 filteredJm.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-jm<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-jm<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailB-jm<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsJamekMosqueC" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(jm && jm.length > 0){ 
                
                const filteredJm = jm.filter(item => item.shift === 'Shift C');
                if (filteredJm.length > 0) { 
                
                 filteredJm.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-jm<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-jm<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailC-jm<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="detailsCityMosque" class="content-section d-none">
      <div class="mb-5" id="shiftButtonsCityMosque">
        <button type="button" class="btn btn-primary btn-shift" data-location="city-mosque" data-shift="A">Shift A</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="city-mosque" data-shift="B">Shift B</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="city-mosque" data-shift="C">Shift C</button>
      </div>
      <h3>City Mosque</h3>
      <div id="detailsCityMosqueA" class="mt-3 shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(cm && cm.length > 0){ 
                
                const filteredcm = cm.filter(item => item.shift === 'Shift A');
                if (filteredcm.length > 0) { 
                
                 filteredcm.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-cm<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-cm<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailA-cm<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>
                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsCityMosqueB" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="liscm
                <% if(cm && cm.length > 0){ 
                
                const filteredcm = cm.filter(item => item.shift === 'Shift B');
                if (filteredcm.length > 0) { 
                
                 filteredcm.forEach((item, index) => { %>

                <tr class=" position-static">
                <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-cm<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                <td class="align-middle text-end white-space-nowrap ps-0 action">
                  <div class="font-sans-serif btn-reveal-trigger position-static">
                    <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                      <span class="fas fa-ellipsis-h fs-9"></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-end py-2">
                      <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-cm<%= index %>">View Detail</a>
                    </div>
                  </div>
                </td>
                </tr>

                <div class="modal fade" id="showDetailB-cm<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsCityMosqueC" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(cm && cm.length > 0){ 
                
                const filteredcm = cm.filter(item => item.shift === 'Shift C');
                if (filteredcm.length > 0) { 
                
                 filteredcm.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-cm<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-cm<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailC-cm<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="detailsRaudhatulSakinah" class="content-section d-none">
      <div class="mb-5" id="shiftButtonsRaudhatulSakinah">
        <button type="button" class="btn btn-primary btn-shift" data-location="raudhatul-sakinah" data-shift="A">Shift A</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="raudhatul-sakinah" data-shift="B">Shift B</button>
        <button type="button" class="btn btn-outline-secondary btn-shift" data-location="raudhatul-sakinah" data-shift="C">Shift C</button>
      </div>
      <h3>Raudhatul Sakinah</h3>
      <div id="detailsRaudhatulSakinahA" class="mt-3 shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(rs && rs.length > 0){ 
                
                const filteredrs = rs.filter(item => item.shift === 'Shift A');
                if (filteredrs.length > 0) { 
                
                 filteredrs.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-rs<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailA-rs<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailA-rs<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsRaudhatulSakinahB" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(rs && rs.length > 0){ 
                
                const filteredrs = rs.filter(item => item.shift === 'Shift B');
                if (filteredrs.length > 0) { 
                
                 filteredrs.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-rs<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailB-rs<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailB-rs<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
      <div id="detailsRaudhatulSakinahC" class="mt-3 d-none shift-details">
        <div class="border-bottom border-translucent mt-3" data-list='{"valueNames":["date", "status","headshift","time", "remarks"],"page":10,"pagination":true}'>
          <div class="row align-items-end justify-content-between pb-4 g-3">

            <div class="col-12 col-md-auto">
              <div class="search-box">
                <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                  <input class="form-control search-input search form-control-sm" type="search" placeholder="Search" aria-label="Search" />
                  <span class="fas fa-search search-box-icon"></span>
                </form>
              </div>
            </div>

          </div>

          <div class="table-responsive ms-n1 ps-1 scrollbar">
            <table class="table fs-9 mb-0 border-top border-translucent">
              <thead>
                <tr>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="date" style="width:15%;min-width: 150px;">Date</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="headshift" style="width:15%;min-width: 100px;">Head Shift</th>
                  <th class="sort align-middle ps-0 text-start text-uppercase" scope="col" data-sort="time" style="width:10%;min-width: 100px;">Time</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="status" style="width:15%;min-width: 150px;">Status</th>
                  <th class="sort align-middle ps-0 text-center text-uppercase" scope="col" data-sort="remarks" style="width:20%;min-width: 100px;">Remarks</th>
                  <th class="sort align-middle ps-0 text-end text-uppercase" scope="col" style="width:5%;min-width: 50px;"></th>
                </tr>
              </thead>

              <tbody class="list">
                <% if(rs && rs.length > 0){ 
                
                const filteredrs = rs.filter(item => item.shift === 'Shift C');
                if (filteredrs.length > 0) { 
                
                 filteredrs.forEach((item, index) => { %>

                <tr class="position-static">
                  <td class="date align-middle fw-bold text-start text-primary py-2 ps-0 fs-8"><a href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-rs<%= index %>"><%= item.date.toLocaleDateString('en-MY', { day: '2-digit', month: 'long', year: 'numeric', timeZone : 'Asia/Kuala_Lumpur' }) %></a></td>
                  <td class="headshift align-middle text-start fw-bold text-body-highlights py-2 ps-0 fs-8"><%= item.headShift %></td>
                  <td class="time align-middle text-start fw-semibold fst-italic py-2 ps-0 fs-9"><%= item.time %></td>
                  <td class="status align-middle fw-semibold text-center py-2 ps-0 fs-9 fs-md-8 text-body-highlights"><span class="badge badge-phoenix fs-10 badge-phoenix-success"><%= item.status %></span></td>
                  <td class="remarks align-middle fst-italic text-center text-body-highlight py-2 ps-0 fs-9"><%= item.remarks || 'No remarks added.' %></td>
                  <td class="align-middle text-end white-space-nowrap ps-0 action">
                    <div class="font-sans-serif btn-reveal-trigger position-static">
                      <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                        <span class="fas fa-ellipsis-h fs-9"></span>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end py-2">
                        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#showDetailC-rs<%= index %>">View Detail</a>
                      </div>
                    </div>
                  </td>
                </tr>

                <div class="modal fade" id="showDetailC-rs<%= index %>" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-body">
                        <div class="d-flex justify-content-between">
                          <h3 class="card-title"><%= item.shift %></h3>
                          <p><span class="badge badge-phoenix badge-phoenix-success fs-10 align-items-center"><%= item.status %></span></p>
                        </div>
                        <p class="card-text">Head Shift: <span class="fw-semibold fst-italic"><%= item.headShift %></span></p>
                        <p class="card-text">Date: <span class="fw-semibold fst-italic"><%= new Date(item.date).toLocaleDateString()  %></span></p>
                        <p class="card-text">Time: <span class="fw-semibold fst-italic"><%= item.time %></span></p>
                        <p class="card-text">Location: <span class="fw-semibold fst-italic"><%= item.location %></span></p>
                        <p class="card-text">Remarks: <span class="fw-semibold fst-italic"><%= item.remarks %></span></p>
                        <hr>
                        <% item.staff.forEach(function(staffMember) { %>
                        <button class="btn btn-primary"><%= staffMember %></button>
                        <% }); %>
                      </div>
                    </div>
                  </div>
                </div>
                <% }); %>

                <% }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } 
                }else{ %>
                <tr>
                  <td colspan="6" class="text-center fs-9 fw-bold">No duty handover submitted</td>
                </tr>
                <% } %>
              </tbody>

            </table>
          </div>
          <div class="row align-items-center justify-content-between py-2 pe-0 fs-9">
            <div class="col-auto d-flex">
              <p class="mb-0 d-none d-sm-block me-3 fw-semibold text-body" data-list-info="data-list-info"></p><a class="fw-semibold" href="#!" data-list-view="*">View all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a class="fw-semibold d-none" href="#!" data-list-view="less">View Less<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
            </div>
            <div class="col-auto d-flex">
              <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="mb-0 pagination"></ul>
              <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // Function to show Baitul Makmur I location section and shifts
      function showBaitulMakmurI() {
        hideAllLocations();
        const section = document.getElementById('detailsBaitulMakmurI');
        if (section) {
          section.classList.remove('d-none');
        }
        setActiveButton('btn-baitul-makmur-i');

        // Event listeners for Baitul Makmur I shift buttons
        const shiftButtons = document.querySelectorAll('#shiftButtonsBaitulMakmurI .btn-shift');
        shiftButtons.forEach(button => {
          button.addEventListener('click', () => {
            const shiftId = button.dataset.shift;
            showShiftBaitulMakmurI(shiftId);
          });
        });
      }

      // Function to show Baitul Makmur I shift section
      function showShiftBaitulMakmurI(shiftId) {
        // Hide all shift details sections within Baitul Makmur I
        const allShiftDetails = document.querySelectorAll('#detailsBaitulMakmurI .shift-details');
        allShiftDetails.forEach(detail => {
          detail.classList.add('d-none');
        });

        // Show the selected shift details section for Baitul Makmur I
        const selectedShiftDetail = document.getElementById(`detailsBaitulMakmurI${shiftId}`);
        if (selectedShiftDetail) {
          selectedShiftDetail.classList.remove('d-none');
        }

        // Set active style for clicked shift button
        const allShiftButtons = document.querySelectorAll('#shiftButtonsBaitulMakmurI .btn-shift');
        allShiftButtons.forEach(button => {
          button.classList.remove('btn-primary');
          button.classList.add('btn-outline-secondary');
        });

        const activeButton = document.querySelector(`#shiftButtonsBaitulMakmurI .btn-shift[data-shift="${shiftId}"]`);
        if (activeButton) {
          activeButton.classList.remove('btn-outline-secondary');
          activeButton.classList.add('btn-primary');
        }
      }

      // Function to show Baitul Makmur II location section and shifts
      function showBaitulMakmurII() {
        hideAllLocations();
        const section = document.getElementById('detailsBaitulMakmurII');
        if (section) {
          section.classList.remove('d-none');
        }
        setActiveButton('btn-baitul-makmur-ii');

        // Event listeners for Baitul Makmur II shift buttons
        const shiftButtons = document.querySelectorAll('#shiftButtonsBaitulMakmurII .btn-shift');
        shiftButtons.forEach(button => {
          button.addEventListener('click', () => {
            const shiftId = button.dataset.shift;
            showShiftBaitulMakmurII(shiftId);
          });
        });
      }

      // Function to show Baitul Makmur II shift section
      function showShiftBaitulMakmurII(shiftId) {
        // Hide all shift details sections within Baitul Makmur II
        const allShiftDetails = document.querySelectorAll('#detailsBaitulMakmurII .shift-details');
        allShiftDetails.forEach(detail => {
          detail.classList.add('d-none');
        });

        // Show the selected shift details section for Baitul Makmur II
        const selectedShiftDetail = document.getElementById(`detailsBaitulMakmurII${shiftId}`);
        if (selectedShiftDetail) {
          selectedShiftDetail.classList.remove('d-none');
        }

        // Set active style for clicked shift button
        const allShiftButtons = document.querySelectorAll('#shiftButtonsBaitulMakmurII .btn-shift');
        allShiftButtons.forEach(button => {
          button.classList.remove('btn-primary');
          button.classList.add('btn-outline-secondary');
        });

        const activeButton = document.querySelector(`#shiftButtonsBaitulMakmurII .btn-shift[data-shift="${shiftId}"]`);
        if (activeButton) {
          activeButton.classList.remove('btn-outline-secondary');
          activeButton.classList.add('btn-primary');
        }
      }

      // Function to show Jamek Mosque location section and shifts
      function showJamekMosque() {
        hideAllLocations();
        const section = document.getElementById('detailsJamekMosque');
        if (section) {
          section.classList.remove('d-none');
        }
        setActiveButton('btn-jamek-mosque');

        // Event listeners for Jamek Mosque shift buttons
        const shiftButtons = document.querySelectorAll('#shiftButtonsJamekMosque .btn-shift');
        shiftButtons.forEach(button => {
          button.addEventListener('click', () => {
            const shiftId = button.dataset.shift;
            showShiftJamekMosque(shiftId);
          });
        });
      }

      // Function to show Jamek Mosque shift section
      function showShiftJamekMosque(shiftId) {
        // Hide all shift details sections within Jamek Mosque
        const allShiftDetails = document.querySelectorAll('#detailsJamekMosque .shift-details');
        allShiftDetails.forEach(detail => {
          detail.classList.add('d-none');
        });

        // Show the selected shift details section for Jamek Mosque
        const selectedShiftDetail = document.getElementById(`detailsJamekMosque${shiftId}`);
        if (selectedShiftDetail) {
          selectedShiftDetail.classList.remove('d-none');
        }

        // Set active style for clicked shift button
        const allShiftButtons = document.querySelectorAll('#shiftButtonsJamekMosque .btn-shift');
        allShiftButtons.forEach(button => {
          button.classList.remove('btn-primary');
          button.classList.add('btn-outline-secondary');
        });

        const activeButton = document.querySelector(`#shiftButtonsJamekMosque .btn-shift[data-shift="${shiftId}"]`);
        if (activeButton) {
          activeButton.classList.remove('btn-outline-secondary');
          activeButton.classList.add('btn-primary');
        }
      }

      // Function to show City Mosque location section and shifts
      function showCityMosque() {
        hideAllLocations();
        const section = document.getElementById('detailsCityMosque');
        if (section) {
          section.classList.remove('d-none');
        }
        setActiveButton('btn-city-mosque');

        // Event listeners for City Mosque shift buttons
        const shiftButtons = document.querySelectorAll('#shiftButtonsCityMosque .btn-shift');
        shiftButtons.forEach(button => {
          button.addEventListener('click', () => {
            const shiftId = button.dataset.shift;
            showShiftCityMosque(shiftId);
          });
        });
      }

      // Function to show City Mosque shift section
      function showShiftCityMosque(shiftId) {
        // Hide all shift details sections within City Mosque
        const allShiftDetails = document.querySelectorAll('#detailsCityMosque .shift-details');
        allShiftDetails.forEach(detail => {
          detail.classList.add('d-none');
        });

        // Show the selected shift details section for City Mosque
        const selectedShiftDetail = document.getElementById(`detailsCityMosque${shiftId}`);
        if (selectedShiftDetail) {
          selectedShiftDetail.classList.remove('d-none');
        }

        // Set active style for clicked shift button
        const allShiftButtons = document.querySelectorAll('#shiftButtonsCityMosque .btn-shift');
        allShiftButtons.forEach(button => {
          button.classList.remove('btn-primary');
          button.classList.add('btn-outline-secondary');
        });

        const activeButton = document.querySelector(`#shiftButtonsCityMosque .btn-shift[data-shift="${shiftId}"]`);
        if (activeButton) {
          activeButton.classList.remove('btn-outline-secondary');
          activeButton.classList.add('btn-primary');
        }
      }

      // Function to show Raudhatul Sakinah location section and shifts
      function showRaudhatulSakinah() {
        hideAllLocations();
        const section = document.getElementById('detailsRaudhatulSakinah');
        if (section) {
          section.classList.remove('d-none');
        }
        setActiveButton('btn-raudhatul-sakinah');

        // Event listeners for Raudhatul Sakinah shift buttons
        const shiftButtons = document.querySelectorAll('#shiftButtonsRaudhatulSakinah .btn-shift');
        shiftButtons.forEach(button => {
          button.addEventListener('click', () => {
            const shiftId = button.dataset.shift;
            showShiftRaudhatulSakinah(shiftId);
          });
        });
      }

      // Function to show Raudhatul Sakinah shift section
      function showShiftRaudhatulSakinah(shiftId) {
        // Hide all shift details sections within Raudhatul Sakinah
        const allShiftDetails = document.querySelectorAll('#detailsRaudhatulSakinah .shift-details');
        allShiftDetails.forEach(detail => {
          detail.classList.add('d-none');
        });

        // Show the selected shift details section for Raudhatul Sakinah
        const selectedShiftDetail = document.getElementById(`detailsRaudhatulSakinah${shiftId}`);
        if (selectedShiftDetail) {
          selectedShiftDetail.classList.remove('d-none');
        }

        // Set active style for clicked shift button
        const allShiftButtons = document.querySelectorAll('#shiftButtonsRaudhatulSakinah .btn-shift');
        allShiftButtons.forEach(button => {
          button.classList.remove('btn-primary');
          button.classList.add('btn-outline-secondary');
        });

        const activeButton = document.querySelector(`#shiftButtonsRaudhatulSakinah .btn-shift[data-shift="${shiftId}"]`);
        if (activeButton) {
          activeButton.classList.remove('btn-outline-secondary');
          activeButton.classList.add('btn-primary');
        }
      }

      // Function to hide all location sections
      function hideAllLocations() {
        const locations = ['detailsBaitulMakmurI', 'detailsBaitulMakmurII', 'detailsJamekMosque', 'detailsCityMosque', 'detailsRaudhatulSakinah'];
        locations.forEach(loc => {
          const section = document.getElementById(loc);
          if (section) {
            section.classList.add('d-none');
          }
        });
      }

      // Function to set active style for location button
      function setActiveButton(buttonId) {
        const allLocationButtons = document.querySelectorAll('.btn-location');
        allLocationButtons.forEach(button => {
          button.classList.remove('btn-primary');
          button.classList.add('btn-outline-secondary');
        });

        const activeButton = document.getElementById(buttonId);
        if (activeButton) {
          activeButton.classList.remove('btn-outline-secondary');
          activeButton.classList.add('btn-primary');
        }
      }

      // Event listeners for location buttons
      document.getElementById('btn-baitul-makmur-i').addEventListener('click', showBaitulMakmurI);
      document.getElementById('btn-baitul-makmur-ii').addEventListener('click', showBaitulMakmurII);
      document.getElementById('btn-jamek-mosque').addEventListener('click', showJamekMosque);
      document.getElementById('btn-city-mosque').addEventListener('click', showCityMosque);
      document.getElementById('btn-raudhatul-sakinah').addEventListener('click', showRaudhatulSakinah);

      // Initial display: Show Baitul Makmur I section and its shifts by default
      showBaitulMakmurI();
    });
  </script>


</div>

</div>


<%- include('partials/private-footer.ejs') %>