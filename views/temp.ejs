<% if (notificationsToday.length > 0) { %>
<% notificationsToday.forEach(notification => { %>
<div class="d-flex align-items-center justify-content-between py-3 px-lg-6 px-4 notification-card border-top read">
  <div class="d-flex">
    <div class="avatar avatar-m status-online me-3">

      <%
              var notiProfile = '';
              if(notification.sender.profile === ''){
                notiProfile = '/assets/img/team/avatar.webp';
              }else{
                notiProfile = notification.sender.profile;
              } 
        %>
      <!-- Use the actual image source from your notification -->
      <img class="rounded-circle border border-primary" src="<%= notiProfile %>" alt="" />
    </div>
    <div class="flex-1 me-sm-3">
      <h4 class="fs-9 text-body-emphasis"><%= notification.sender.fullname %></h4>
      <p class="fs-9 text-body-highlight mb-2 mb-sm-3 fw-normal">
        <span class='me-1 mt-1 fs-10'>ðŸ’¬</span><%= notification.message %>
        <span class="text-body-quaternary text-opacity-75 fw-bold fs-10">&nbsp;<%= timeAgo(notification.timestamp) %></span>
      </p>
      <p class="text-body-secondary fs-9 mb-0">
        <span class="me-1 fas fa-clock"></span>
        <span class="fw-bold"><%= formatTime(notification.timestamp) %></span>
      </p>
    </div>
  </div>
  <div class="btn-group dropstart mb-3">
    <button class="btn fs-10 btn-sm dropdown-toggle dropdown-caret-none transition-none notification-dropdown-toggle" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
      <span class="fas fa-ellipsis-h fs-10 text-body"></span>
    </button>
    <div class="dropdown-menu py-2">
      <a class="dropdown-item" href="/markAsRead/<%= notification._id %>">Mark as unread</a>
      <a class="dropdown-item" href="<%= notification.url %>">View</a>
    </div>
  </div>
</div>
<% }); %>
<% } else { %>
<div class="px-4 px-sm-3 py-3">
  <p>No notifications available.</p>
</div>
<% } %>